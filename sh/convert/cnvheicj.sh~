#!/usr/bin/env fish

echo "ðŸ” Looking for HEIC files in current directory..."

set files (find . -maxdepth 1 -type f \( -iname "*.heic" -o -iname "*.HEIC" \))

if test (count $files) -eq 0
    echo "âŒ No HEIC files found in current directory."
    exit 0
end

for file in $files
    set filename (string replace -r '\.[Hh][Ee][Ii][Cc]$' '' $file)
    set output "$filename.jpg"
    echo "ðŸ”„ Converting: $file -> $output"
    magick "$file" "$output"
end

echo "âœ… Conversion complete."
